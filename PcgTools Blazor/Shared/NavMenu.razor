@inherits PcgTools_Blazor.Menus.NavMenuBase;

@if (MenuList.Any())
{
    @foreach (var menu in MenuList)
    {
        <MudMenu Label="@menu.Label" Dense="@menu.IsDense">
            @if (MenuList.Any())
            {
                @foreach (var item in menu.MenuItems)
                {
                    if (item.IsDivider)
                    {
                        <MudDivider/>
                    }
                    else
                    {
                        if (!string.IsNullOrEmpty(item.Link) && item.MenuIcon.IsDefined)
                        {
                            <MudMenuItem
                                Disabled="@item.IsDisabled"
                                Link="@item.Link"
                                IconSize="@item.MenuIcon.Size"
                                IconColor="@item.MenuIcon.Color"
                                Icon="@item.MenuIcon.Icon">
                                @item.Name
                            </MudMenuItem>
                        }
                        else if (item.MenuIcon.IsDefined)
                        {
                            <MudMenuItem
                                Disabled="@item.IsDisabled"
                                OnClick="@item.OnClickEventHandler"
                                IconSize="@item.MenuIcon.Size"
                                IconColor="@item.MenuIcon.Color"
                                Icon="@item.MenuIcon.Icon">
                                @item.Name
                            </MudMenuItem>
                        }
                        else if (!string.IsNullOrEmpty(item.Link))
                        {
                            <MudMenuItem
                                Disabled="@item.IsDisabled"
                                Link="@item.Link">
                                @item.Name
                            </MudMenuItem>
                        }
                        else
                        {
                            <MudMenuItem Disabled="@item.IsDisabled"
                                         OnClick="@item.OnClickEventHandler">
                                @item.Name
                            </MudMenuItem>
                        }
                    }
                }
            }
        </MudMenu>
    }
}