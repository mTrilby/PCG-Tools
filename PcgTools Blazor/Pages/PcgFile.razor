@page "/OpenPcgFile"
<PageTitle>PcgFile</PageTitle>
@if (!_files.Any())
{
    <MudFileUpload T="IBrowserFile" FilesChanged="UploadFiles">
        <ButtonTemplate>
            <MudButton HtmlTag="label"
                       Variant="Variant.Filled"
                       Color="Color.Primary"
                       StartIcon="@Icons.Filled.FileOpen"
                       for="@context">
                Load *.PCG / *.SNG File(s)
            </MudButton>
        </ButtonTemplate>
    </MudFileUpload>
}

@if (_files.Any())
{
    @* TODO: Need to actually load the PCG/SNG file and display the internal details *@
    <MudText Typo="@Typo.h6">@_files.Count() File@(_files.Count() == 1 ? "" : "s"):</MudText>
    <MudList>
        @foreach (var file in _files)
        {
            <MudListItem Icon="@Icons.Filled.AttachFile" @key="@file">
                @file.Name <code>@file.Size bytes</code>
            </MudListItem>
        }
    </MudList>
}
@code
{
    readonly IList<IBrowserFile> _files = new List<IBrowserFile>();

    private void UploadFiles(IBrowserFile file)
    {
        _files.Add(file);
        //TODO upload the files to the server
    }
}